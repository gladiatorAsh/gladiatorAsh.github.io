/* -----------------------------------------------------------------------------
File:           JS Core (minified)
Version:        1.3
-------------------------------------------------------------------------------- */
"use strict"; var Mi = { init: function () { this.Basic.init() }, Basic: { init: function () { var e = this;  $("#page-loader").fadeOut(200), e.animations(), e.mobileDetector(), e.backgrounds(), e.scroller(), e.masonry(), e.ajaxLoader(), e.mobileNav() }, mobileDetector: function () { var e = { Android: function () { return navigator.userAgent.match(/Android/i) }, BlackBerry: function () { return navigator.userAgent.match(/BlackBerry/i) }, iOS: function () { return navigator.userAgent.match(/iPhone|iPad|iPod/i) }, Opera: function () { return navigator.userAgent.match(/Opera Mini/i) }, Windows: function () { return navigator.userAgent.match(/IEMobile/i) }, any: function () { return e.Android() || e.BlackBerry() || e.iOS() || e.Opera() || e.Windows() } }; window.trueMobile = e.any(), trueMobile && $("audio").remove() }, backgrounds: function () { $(".bg-image").each(function () { var e = $(this).children("img").attr("src"); $(this).css("background-image", "url(" + e + ")").children("img").hide() }) }, animations: function () { $(".animated-hover").on("mouseenter", function () { var e = $(this).data("hover-animation"), t = $(this).data("hover-animation-duration"); $(this).stop().css({ "-webkit-animation-duration": t + "ms", "animation-duration": t + "ms" }).addClass(e) }).on("mouseleave", function () { var e = ($(this), $(this).data("hover-animation")); $(this).data("hover-animation-duration"); $(this).stop().removeAttr("style").removeClass(e) }), $(".animated").appear(function () { $(this).each(function () { var e = $(this), t = 200 + $(this).data("animation-delay"); setTimeout(function () { e.addClass(e.data("animation")).addClass("visible") }, t) }) }) }, scroller: function () { var e = ($("#header"), $("#header").height()), t = ($("#mobile-nav"), $(".section", "#content")), a = $("body"), o = 0; a.hasClass("header-horizontal") && (o = -e); var i = $('#header, #mobile-nav, [data-target="local-scroll"]'); i.find("a").on("click", function () { $(this).blur() }), i.localScroll({ offset: o, duration: 800, easing: $("#content").data("scroll-easing") }); var n = $("#main-menu li > a, #mobile-nav li > a"), r = function (e) { n.each(function () { var t = $(this).attr("href"); e == t ? $(this).addClass("active") : $(this).removeClass("active") }) }; t.waypoint({ handler: function (e) { if ("up" == e) { var t = "#" + this.element.id; r(t) } }, offset: function () { return a.hasClass("header-horizontal") ? -this.element.clientHeight + e + 2 : -this.element.clientHeight + 2 } }), t.waypoint({ handler: function (e) { if ("down" == e) { var t = "#" + this.element.id; r(t) } }, offset: function () { return a.hasClass("header-horizontal") ? e + 1 : 1 } }), $(window).resize(function () { setTimeout(function () { Waypoint.refreshAll() }, 600) }) }, masonry: function () { var e = $(".masonry"); e.masonry({ columnWidth: ".masonry-sizer", itemSelector: ".masonry-item", percentPosition: !0 }), e.imagesLoaded().progress(function () { e.masonry("layout") }), e.on("layoutComplete", Waypoint.refreshAll()) }, ajaxLoader: function () { function e() { r.fadeIn(200, function () { $("html").addClass("locked-scrolling") }) } function t() { r.load(o) } function a() { s = !1, $("html").removeClass("locked-scrolling"), $("body").removeClass("ajax-modal-opened"), $(document).scrollTop(i), r.fadeOut(200).scrollTop(0) } var o, i, n = $("#ajax-loader"), r = $("#ajax-modal"), s = !1; $('[data-target="ajax-modal"]').on("click", function () { return s = !0, i = $(document).scrollTop(), o = $(this).attr("href"), t(), $("body").addClass("ajax-modal-opened"), !1 }), $(document).ajaxStart(function () { s && n.fadeIn(200) }), $(document).ajaxStop(function () { s && n.fadeOut(200, function () { e() }) }), r.delegate('*[data-dismiss="close"]', "click", function () { return a(), !1 }) }, mobileNav: function () { $('[data-target="mobile-nav"]').on("click", function () { return $("body").toggleClass("mobile-nav-open"), !1 }) }, } }; $(document).ready(function () { Mi.init() });
